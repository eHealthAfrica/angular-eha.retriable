!function(){"use strict";var a=angular.module("eha.retriable",[]);a.provider("retriable",function(){var a;this.setNotice=function(b){a=b},this.$get=["$q","loginService",function(b,c){return a||(a=function(){return!0}),function(d){return function(){function e(){return d.apply(null,i)}function f(){j.resolve.apply(j,arguments)}function g(){j.reject.apply(j,arguments)}function h(d){return 401!==d.status?g(d):b.when(a()).then(c.logout).then(c.maybeShowLoginUi).then(c.renew).then(e).then(f)["catch"](g)}var i=arguments,j=b.defer(),k=c.maybeShowLoginUi().then(e);return k.then(f),k["catch"](function(a){if(401!==a.status)return g(a);var b=c.renew();b["catch"](h),b.then(e).then(f)["catch"](h)}),j.promise}}}]}),"undefined"!=typeof module&&module.exports&&(module.exports=a)}();